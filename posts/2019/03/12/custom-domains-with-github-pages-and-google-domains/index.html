<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Custom Domains With Github Pages And Google Domains - Matthew Devaney</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0>



<link rel="canonical" href="/posts/2019/03/12/custom-domains-with-github-pages-and-google-domains/">

        <meta name="author" content="Matthew Devaney" />
        <meta name="keywords" content="google domains,github,website deployment" />
        <meta name="description" content="Which web address would you rather own: yourdomain.github.io or yourdomain.com? The answer is simple: yourdomain.com. If you are hosting your website on a free service such as Github Pages you&#39;ll be assigned the former, not the latter. Fortunately domain names are inexpensive to purchase (if they …" />

        <meta property="og:site_name" content="Matthew Devaney" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Custom Domains With Github Pages And Google Domains"/>
        <meta property="og:url" content="/posts/2019/03/12/custom-domains-with-github-pages-and-google-domains/"/>
        <meta property="og:description" content="Which web address would you rather own: yourdomain.github.io or yourdomain.com? The answer is simple: yourdomain.com. If you are hosting your website on a free service such as Github Pages you&#39;ll be assigned the former, not the latter. Fortunately domain names are inexpensive to purchase (if they …"/>
        <meta property="article:published_time" content="2019-03-12" />
            <meta property="article:section" content="Web Development" />
            <meta property="article:tag" content="google domains" />
            <meta property="article:tag" content="github" />
            <meta property="article:tag" content="website deployment" />
            <meta property="article:author" content="Matthew Devaney" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="/theme/css/bootstrap.sandstone.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="/theme/css/pygments/bw.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/style.css" type="text/css"/>

        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Matthew Devaney ATOM Feed"/>

        <link href="/feeds/web-development.atom.xml" type="application/atom+xml" rel="alternate"
              title="Matthew Devaney Web Development ATOM Feed"/>
</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
Matthew Devaney            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="/pages/about-me/">
                             About Me
                          </a></li>




            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<!-- Banner -->
<!-- End Banner -->

<!-- Content Container -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                        <img src="\img\google_icon.png">
                    Custom Domains With Github Pages And Google Domains
                </h1>
                <div class="panel-body">
<footer class="post-info">
    <span class="published">
        <!-- deleted <i class="fa fa-calendar"></i> -->
        <time datetime="2019-03-12T12:00:00-05:00"> March 12, 2019</time>
    </span>



        <!-- deleted <span class="label label-default">Category</span> -->
        , Category:
        <a href="/category/web-development">Web Development</a>


<!-- <span class="label label-default">Tags</span> -->
, Tags:
	<!-- <a href=", tag/google-domains">google domains</a> -->
    <a href="/tag/google-domains">google domains</a>
        ,
	<!-- <a href=", tag/github">github</a> -->
    <a href="/tag/github">github</a>
        ,
	<!-- <a href=", tag/website-deployment">website deployment</a> -->
    <a href="/tag/website-deployment">website deployment</a>
    
</footer><!-- /.post-info -->                </div>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <!-- div panel-body was here -->
                </div>
                <p>Which web address would you rather own: <em>yourdomain.github.io</em> or <em>yourdomain.com</em>?  The answer is simple: <em>yourdomain.com</em>.  If you are hosting your website on a free service such as <a href="https://pages.github.com/">Github Pages</a> you'll be assigned the former, not the latter.  Fortunately domain names are inexpensive to purchase (if they are available).  Depending on the provider the annual cost is usually between $10-20.  When comparing the amount you'll spend vs. the benefits you'll receive its easy to justify purchase your own domain.</p>
<p>In this tutorial I will show you how to configure your Github Pages website to be served from a custom domain from <a href="https://domains.google">Google Domains</a>.</p>
<h4>Prequisites</h4>
<p>You will need to own a custom domain purchased from Google Domains and have a free static website already setup on Github Pages.</p>
<h4>Goals</h4>
<ul>
<li>Make your Github Pages website available on yourdomain.com</li>
</ul>
<h3>Setting Up A Custom Domain</h3>
<p>After you have acquired domain name from Google Domains go ahead and login.  The first thing we will do is setup our domain name servers (DNS). Click the DNS button on the menu to browse to the next page.</p>
<p><img alt="some text" src="/img/google_domains_tutorial_1.png"></p>
<p>The best analogy I can offer for DNS it that it works like a giant phonebook for the internet.  DNS converts domain names to IP addresses.  A web browser needs an IP address to connect to a webpage but they are hard to remember (e.g. 192.168.0.100). DNS allows us to type something like <em>yourdomain.com</em> instead which is then routed to the proper IP address. </p>
<p>Look around the DNS menu until you find the Custom resource records section.  Fill-in the fields as shown in the image below and then click add.  Github Pages IP addresses are unlikely to have changed since this article was written but you can research the most up to date IP addresses <a href="https://help.github.com/en/articles/troubleshooting-custom-domains">here</a>.</p>
<p><img alt="some text" src="/img/google_domains_tutorial_2.png"></p>
<p>We have now setup an <em>A record</em> which points a domain to an IP address.  In this case we have pointed to multiple IP addresses because Github Pages has several servers and our website could be stored on any one of them.  A value of 1H was chosen for TTL: time-to-live.  This determines how long until changes to the DNS record go into effect</p>
<p>A DNS record for CNAME should also be setup.  CNAME is short for canonical name and it allows us to refer one variation of our domain name to another.  A visitor to our website would input our web address in the browser one of two ways: <em>yourdomain.com</em> or <em>www.yourdomain.com</em>.  We have already setup <em>yourdomain.com</em> using the <em>A record</em>.  By setting up a CNAME record for <em>www.yourdomain.com</em> we can redirect it to <em>yourdomain.com</em> eliminating the need to maintain two records.</p>
<p>Fill-in the DNS record for CNAME as shown below and click add.</p>
<p><img alt="some text" src="/img/google_domains_tutorial_3.png"></p>
<p>Your DNS records should look like this.  Make sure your setup matches the image below before you move on.</p>
<p><img alt="some text" src="/img/google_domains_tutorial_4.png"></p>
<p>Now we will perform the other half of the setup process on Github.  Login to Github and open up the repository for username.github.io.  Click on the settings icon.</p>
<p><img alt="some text" src="/img/google_domains_tutorial_5.png"></p>
<p>Look for the Github Pages section of the settings menu.  Type <em>yourdomain.com</em> in the Custom Domain field and click save.  Also check the box to enforce HTTPS to ensure your website will be served securely.</p>
<p><img alt="some text" src="/img/google_domains_tutorial_6.png"></p>
<p>When we clicked save Github automatically created a file called CNAME in the root directory of our repository.  The CNAME file tells Github Pages to redirect any traffic to username.github.io to <em>yourdomain.com</em> instead.</p>
<p><img alt="some text" src="/img/google_domains_tutorial_7.png"></p>
<p>Our website is now setup to be served from <em>yourdomain.com</em>.  The changes will not take effect immediately but after a few minutes we should be able to access our website from <em>yourdomain.com</em>.  Also try browsing to username.github.io and you will notice the web address is redirected to <em>yourdomain.com</em></p>
<p><img alt="some text" src="/img/google_domains_tutorial_8.png"></p>
<h3>Configuring Git</h3>
<p>When we added the CNAME file to our remote repository on Github it went out of sync with the repo on our local machine.  Open up the command line type the following command while in the <em>blog/output</em> folder.</p>
<div class="highlight"><pre><span></span>git pull
</pre></div>


<p>The CNAME file is now added the local repository.  This creates another issue: when we generate the website in Pelican the output folder gets deleted before it is loaded with new files.  We need to create an exception for CNAME to avoid this.  Open <em>pelicanconf.py</em> in the source folder and add the following lines:</p>
<div class="highlight"><pre><span></span><span class="n">DELETE_OUTPUT_DIRECTORY</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">OUTPUT_RETENTION</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CNAME&#39;</span><span class="p">]</span>
</pre></div>


<p>Test the new settings to ensure they work.  When we generate the website CNAME should remain intact in the <em>output</em> folder.</p>
<div class="highlight"><pre><span></span><span class="n">pelican</span> <span class="n">content</span>
<span class="n">pelican</span> <span class="o">--</span><span class="n">listen</span>
</pre></div>
            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'matthewdevaney'; // required: replace example with your forum shortname

            var disqus_config = function () {
                this.language = "en";

                        this.page.identifier = '2019-03-12-custom-domains-with-github-pages-and-google-domains';
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
    </div>
</div>
<!-- End Content Container -->

<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2019 Matthew Devaney
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/theme/js/respond.min.js"></script>


    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'matthewdevaney'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-135011604-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->


</body>
</html>