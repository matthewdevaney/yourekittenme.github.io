<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Matthew Devaney - Web Development</title><link href="/" rel="alternate"></link><link href="/feeds/web-development.atom.xml" rel="self"></link><id>/</id><updated>2019-02-23T00:00:00-06:00</updated><entry><title>Build A Static Website With Pelican</title><link href="/posts/2019/02/23/build-a-static-website-with-pelican/" rel="alternate"></link><published>2019-02-23T00:00:00-06:00</published><updated>2019-02-23T00:00:00-06:00</updated><author><name>Matthew Devaney</name></author><id>tag:None,2019-02-23:/posts/2019/02/23/build-a-static-website-with-pelican/</id><summary type="html">&lt;h3&gt;Creating A Project Skeleton&lt;/h3&gt;
&lt;p&gt;Let's begin by creating a new folder called &lt;em&gt;blog&lt;/em&gt;.  Then create two new folders inside the blog folder called &lt;em&gt;output&lt;/em&gt; and &lt;em&gt;source&lt;/em&gt; as shown below.  Our Pelican project will be stored in the source folder.  The static website generated by Pelican will be placed in the â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;Creating A Project Skeleton&lt;/h3&gt;
&lt;p&gt;Let's begin by creating a new folder called &lt;em&gt;blog&lt;/em&gt;.  Then create two new folders inside the blog folder called &lt;em&gt;output&lt;/em&gt; and &lt;em&gt;source&lt;/em&gt; as shown below.  Our Pelican project will be stored in the source folder.  The static website generated by Pelican will be placed in the output folder.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;blog&lt;/span&gt;
  &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt;
  &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;source&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Next we need to install Pelican and Markdown.  Markdown is a plain-text markup language we will be using to write the content for our website.  Open the command line and type the following commands:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;pelican&lt;/span&gt;
&lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;markdown&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;With our basic file structure in-place and Pelican/Markdown installed we are now ready to create our Pelican project.  Navigate to the source folder using the command line and type:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pelican&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;quickstart&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Pelican starts by asking us a series of interview questions to customize our website.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Where do you want to create your new web site? [.] .
What will be the title of this web site? Matthew Devaney&amp;#39;s Blog
Who will be the author of this web site? Matthew Devaney
What will be the default language of this web site? [English] en
Do you want to specify a URL prefix? e.g., https://example.com   (Y/n) n
Do you want to enable article pagination? (Y/n) n
What is your time zone? [Europe/Paris] America/Winnipeg
Do you want to generate a tasks.py/Makefile to automate generation and publishing? (Y/n) n
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;How you choose to answer some of these questions will differ from myself:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Default language:  choose any 2 letter code for languages from the &lt;a href="https://www.loc.gov/standards/iso639-2/php/code_list.php"&gt;ISO 639.1&lt;/a&gt; guide.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Time zone: select your timezone from the Wikipedia &lt;a href="http://en.wikipedia.org/wiki/List_of_tz_database_time_zones"&gt;list of tz database time zones&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Generate Tasks.py/Makefile: Mac and Linux machines can use the &lt;em&gt;make&lt;/em&gt; command to automate deployment. However, I am using a Windows machine make is not available on Windows by default. You can try to &lt;a href="http://gnuwin32.sourceforge.net/packages/make.htm"&gt;install&lt;/a&gt; it but getting make to work on Windows is a non-trival exercise.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;After answering the pelican-quickstart interview questions your source folder will look like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;blog&lt;/span&gt;
  &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt;
  &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;source&lt;/span&gt;
       &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;folder&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
       &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;folder&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
       &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;pelicanconf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
       &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;publishconf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here's what each of the newly created files do:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;content (folder) -  where website content will be stored&lt;/li&gt;
&lt;li&gt;output (folder) - default location where static website files are generated to&lt;/li&gt;
&lt;li&gt;pelicanconf.py - website settings file&lt;/li&gt;
&lt;li&gt;publishconf.py - additional website settings used only when the website is published&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now that our basic project skeleton is setup we should generate our website and preview what it looks like.  First, we must tell Pelican where to output the website to.  By default it will be generated to blog/source/output ut we wanted them to appear in blog/output instead.  Delete the folder blog/source/output.  Now open &lt;em&gt;pelicanconf.py&lt;/em&gt; and add the following line: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;OUTPUT_PATH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;../output&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Generate the website by using the following command while in the source folder.  Ignore the warning that appears.  It displays because we haven't written any articles for our website yet:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pelican&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Finally, run the following command while in the source folder to setup a local http server to serve our website on our local machine.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pelican&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;listen&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To view our website open your web browser and go to the the address. &lt;a href="http://127.0.0.1:8000"&gt;http://127.0.0.1:8000&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img alt="some text" src="/img/pelican_tutorial_1.png"&gt;&lt;/p&gt;
&lt;p&gt;We have now successfully setup our basic Pelican project.&lt;/p&gt;
&lt;h3&gt;Choosing A Theme&lt;/h3&gt;
&lt;p&gt;In my opinion the standard theme that comes with Pelican has a huge flaw: it does not display properly on mobile devices.  More than half of the world's internet traffic is mobile so we will want to use a theme that incorporates &lt;a href="https://en.wikipedia.org/wiki/Responsive_web_design"&gt;responsive web design&lt;/a&gt; principles.  To accomplish this we will change our website to use the excellent &lt;a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3"&gt;pelican-bootstrap3&lt;/a&gt; theme. To view the full listing of Pelican themes click &lt;a href="https://github.com/getpelican/pelican-themes"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Start by creating a new folder called &lt;em&gt;theme&lt;/em&gt; in the source folder.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;blog&lt;/span&gt;
  &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;source&lt;/span&gt;
       &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;
       &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;theme&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now we need to tell Pelican where it can find the custom theme we will be using.  Open &lt;em&gt;pelicanconf.py&lt;/em&gt; and add the following line:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;THEME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;theme&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Next, go to GitHub and download the &lt;a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3"&gt;pelican-bootstrap3&lt;/a&gt; theme.  Place pelican-bootstrap3 files into the blog/source/theme folder so it looks like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;blog&lt;/span&gt;
  &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;source&lt;/span&gt;
       &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;
       &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;theme&lt;/span&gt;
           &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;static&lt;/span&gt;
           &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;templates&lt;/span&gt;
           &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;translations&lt;/span&gt;
           &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;more&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;With the theme in place now let's attempt to generate the site.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pelican&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Unfortunately, an error occurs.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;CRITICAL&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;UndefinedError&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;_&amp;#39;&lt;/span&gt; &lt;span class="k"&gt;is&lt;/span&gt; &lt;span class="kc"&gt;undefined&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The error is caused by a missing plugin &lt;em&gt;i18n_subsites&lt;/em&gt; which is used by pelican-bootstrap3 to provide support for internationalization (i.e. i18n). We must &lt;a href="https://github.com/getpelican/pelican-plugins/tree/master/i18n_subsites"&gt;download this file&lt;/a&gt; from Github and in include it in our project. To view the full listing of Pelican plugins click &lt;a href="https://github.com/getpelican/pelican-plugins/tree/master/i18n_subsites"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Add another folder inside the source called plugins. Place the i18n_subsites plugin you downloaded from Github into that folder:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;blog&lt;/span&gt;
  &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;source&lt;/span&gt;
       &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;
       &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;plugins&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
           &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;i18n_subsites&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
       &lt;span class="o"&gt;|-&lt;/span&gt; &lt;span class="n"&gt;theme&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We must tell pelican where the plugins folder is located just as we did for the theme folder.  Open &lt;em&gt;pelicanconf.py&lt;/em&gt; and add the following line.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;PLUGIN_PATHS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;plugins/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A typical Pelican website will utilize many different plugins to extend its capabilities. Each plugin must be setup individually within &lt;em&gt;pelicanconf.py&lt;/em&gt;.  The PLUGINS variable contains all plugins being used by the website.  Open &lt;em&gt;pelicanconf.py&lt;/em&gt; and add the following line.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;PLUGINS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;i18n_subsites&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Try to generate the website once again.  You will get a different error this time.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pelican&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;

&lt;span class="n"&gt;CRITICAL&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;UndefinedError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;gettext&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;undefined&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The i18n_subsites plugin relies on a language called Jinja2. To properly configure the i18n_subsites plugin we must also add the JINJA_ENVIRONMENT variable to &lt;em&gt;pelicanconf.py&lt;/em&gt; as shown below. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;JINJA_ENVIRONMENT = {
    &amp;#39;extensions&amp;#39;: [&amp;#39;jinja2.ext.i18n&amp;#39;],
}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now that we have properly configured the bootstrap3 theme and its dependencies our website will generate successfully.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pelican&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;
&lt;span class="n"&gt;pelican&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;listen&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;View the latest version of our website at &lt;a href="http://127.0.0.1:8000"&gt;http://127.0.0.1:8000&lt;/a&gt;.  Notice when you expand and shrink the width of the web browser window the website layout changes to fit?  By selecting a theme that incorporates responsive web design principles our website will be viewable on screens of all shapes and sizes.&lt;/p&gt;
&lt;p&gt;&lt;img alt="some text" src="/img/pelican_tutorial_2.png"&gt;&lt;/p&gt;
&lt;p&gt;The pelican-bootstrap3 theme comes with several options to change the style of our website.  To view the full list of  available themes go the folder blog/source/theme/css.  You will see several files with the filename &lt;em&gt;bootstrap.(some name).min.css.  We will be using the the &lt;/em&gt;bootstrap.flatly.min.css&lt;em&gt; file to style our website. Open &lt;/em&gt;pelicanconf.py* and add the following line.  Take a moment to try out some other options if you'd like to see what's available.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;BOOTSTRAP_THEME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;flatly&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;At this time we can also change the style for code blocks we may write in our blog posts.  Pelican displays code blocks using the &lt;a href="https://help.farbox.com/pygments.html"&gt;Pygments&lt;/a&gt; code highlighter. To view a full list of the available Pygments styles go to the folder blog/source/theme/css/pygments. It contains many files with the filename &lt;em&gt;(some name).css&lt;/em&gt;. Our website will use the &lt;em&gt;monokai.css&lt;/em&gt; to style code blocks. Open &lt;em&gt;pelicanconf.py&lt;/em&gt; and add the following line.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;PYGMENTS_STYLE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;monokai&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Regenerate the website to see the impact of changing the style.  Not all of the changes we made to the style are apparent at this time because our website does not yet have any content.  In the next section of this tutorial we will learn how to use markdown to write posts and pages for our blog.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pelican&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;
&lt;span class="n"&gt;pelican&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;listen&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="some text" src="/img/pelican_tutorial_3.png"&gt;&lt;/p&gt;</content><category term="python"></category><category term="pelican"></category></entry></feed>